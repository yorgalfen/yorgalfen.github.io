<!doctype html>
<html>
    <head>
        <title>NASA ADC</title>
        <script
            type="text/javascript"
            src="https://aframe.io/releases/1.4.2/aframe.min.js"
        ></script>
        <link rel="icon" sizes="any" type="image/png" href="favicon.png" />
        <link href="info-style.css" rel="stylesheet" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.slim.min.js"></script>
        <script type="text/javascript" src="program.js"></script>
    </head>
    <body>
        <a-scene id="scene">
            <a-assets timeout="30000">
                <img id="home-big" src="home-big.png" />
                <img id="earth" src="earth.png" />
                <img id="sky" src="sky.jpg" />
                <a-asset-item id="height" src="height.json"></a-asset-item>
                <a-asset-item id="latl" src="latleft.json"></a-asset-item>
                <a-asset-item id="latr" src="latright.json"></a-asset-item>
                <a-asset-item id="longl" src="longleft.json"></a-asset-item>
                <a-asset-item id="longr" src="longright.json"></a-asset-item>
                <a-asset-item id="route" src="routen.json"></a-asset-item>
                <a-asset-item id="comms" src="comms.json"></a-asset-item>
                <a-asset-item id="slope" src="slope.json"></a-asset-item>
            </a-assets>
            <a-sky id="caelum" src="#sky" radius="500000000"></a-sky>
            <a-entity
                id="sol"
                geometry="primitive: sphere; radius: 1661293"
                position="0 19148150 356723010"
                material="color: white; shader: flat"
                light="type: point; intensity: 1.8; distance: 0"
            ></a-entity>
            <a-sphere
                id="terra"
                position="-183750345 65161417 306355624"
                rotation="165 64 -12"
                material="src: #earth; shader: flat"
                radius="6378100"
            ></a-sphere>
            <a-entity
                camera="far: 1000000000"
                wasd-controls
                look-controls
                position="0 6154.2 0"
                id="camera"
                frame-adjust
            >
                <a-entity
                    position="0 0 1"
                    id="flashlight"
                    light="type: spot; angle: 55; intensity: 0.8; distance: 60; penumbra: 0.35; target: #camera;"
                ></a-entity>
            </a-entity>
            <a-entity
                id="luna"
                geometry="primitive: terrain; latl: #latl; latr: #latr; longl: #longl; longr: #longr;
                    height: #height; slope: #slope; route: #route; comms: #comms;"
                material="src: #home-big; side: double; roughness: 1; vertexColorsEnabled: true;"
            ></a-entity>
        </a-scene>
        <img id="map" src="slopemap.png">
		<div id="info"><p id="data">Welcome to the Liebnitz Beta Plateau!<br>Press H for help.<br>Loading...</p></div>
        <div id="prompt">
            <p id="prompt-text"></p>
            <input type="text" id="single">
            <button id="single-go">Confirm</button>
        </div>
        <div id="route-box">
            <h2>Route Planning</h2>Enter your desired destination site, in grid indices.<br><br>
            <table id="route-inputs">
                <tr><td>subList:</td><td>index:</td><td>Max slope:</td></tr>
                <tr><td><input class="rinp" id="sublist"></td><td><input class="rinp" id="index"></td><td><input class="rinp" id="slinp"></td></tr></table>
            <table id="text-et-button">
                <tr><td class="progress-cell"><p id="progress"></p></td><td class="progress-cell"><button id="plan" onclick="wayfind();">Plan Route</button></td></tr>
            </table>
            <table id="canvas-et-data">
                <tr><td id="canv-cell"><canvas id="draw" width="3200" height="3200"></canvas></td><td id="subtable">
                    <table id="data-et-apply">
                        <tr><td id="route-data-cell"><p id="route-data">This is where the path length, minimum slope, and other data will appear.</p></td></tr>
                        <tr><td id="apply-contain"><button id="route-applier" onclick="applyRoute();">Apply Route</button></td></tr>
                    </table>
                </td></tr>
            </table>
        </div>
    </body>
</html>
